!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),o=function(e){return e.getParam("code_dialog_width",600)},c=function(e){return e.getParam("code_dialog_height",Math.min(t.DOM.getViewPort().h-200,500))},i=function(e,t){e.focus(),e.undoManager.transact(function(){e.setContent(t)}),e.selection.setCursorLocation(),e.nodeChanged()},d=function(e){return e.getContent({source_view:!0})},n=function(t){var e=o(t),n=c(t);t.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,ariaLabel:"Source code",minWidth:e,minHeight:n,spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(e){i(t,e.data.code)}}).find("#code").value(d(t))},u=function(e){e.addCommand("mceCodeEditor",function(){n(e)})},a=function(e){e.addButton("code",{icon:"code",tooltip:"Source code",onclick:function(){n(e)}}),e.addMenuItem("code",{icon:"code",text:"Source code",onclick:function(){n(e)}})};e.add("code",function(e){return u(e),a(e),{}})}();