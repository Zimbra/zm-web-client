/**
* @license
* PramukhIME Javascript Library v4.0.0 -  http://www.vishalon.net/pramukhime/javascript-library
* Copyright (c) 2005-2018 Vishal Monpara (http://www.vishalon.net)
* 
* License:
* Please read license.html file for detailed license terms.
* 
* License Summary
*   Use in Production environment - Not Allowed
*   Personal and Commercial use - Not Allowed
*   Use in Software as a Service (SaaS), Distribution Application/Module/Add-on/Plugin, OEM- Not Allowed
*   Modify source code or any file? - Not Allowed
*   Hosting for sharing/distribution - Not Allowed
*/
!function(n){"use strict";function t(){var t,i,r,u={},e=this,o={},f="",s=!0,c=!1,a=0,h=!0,l=!1,v=!1,p=[8,11,-1,-3,16,5,11,10,4,14,1,2,-53,-54],g="",d=!1,m=function(t,i){i?t.removeEventListener?(t.removeEventListener("keypress",e.t,!1),t.removeEventListener("keyup",e.i,!1),t.removeEventListener("touchend",e.reset,!1),n.u?t.removeEventListener("pointerup",e.reset,!1):t.removeEventListener("mouseup",e.reset,!1),t.removeEventListener("focus",e.o,!0),t.removeEventListener("blur",e.s,!0),t.removeEventListener("compositionstart",e.h,!1),t.removeEventListener("compositionupdate",e.l,!1),t.removeEventListener("compositionend",e.v,!1),t.removeEventListener("input",e.p,!1),t.removeEventListener("paste",e.g,!1)):t.detachEvent&&(t.detachEvent("onkeypress",e.t),t.detachEvent("onkeyup",e.i),n.u||t.detachEvent("onmouseup",e.reset),t.detachEvent("onfocusin",e.o),t.detachEvent("onfocusout",e.s),t.detachEvent("onpaste",e.g)):t.addEventListener?(t.addEventListener("keypress",e.t,!1),t.addEventListener("keyup",e.i,!1),t.addEventListener("touchend",e.reset,!1),n.u?t.addEventListener("pointerup",e.reset,!1):t.addEventListener("mouseup",e.reset,!1),t.addEventListener("focus",e.o,!0),t.addEventListener("blur",e.s,!0),t.addEventListener("compositionstart",e.h,!1),t.addEventListener("compositionupdate",e.l,!1),t.addEventListener("compositionend",e.v,!1),t.addEventListener("input",e.p,!1),t.addEventListener("paste",e.g,!1)):t.attachEvent&&(t.attachEvent("onkeypress",e.t),t.attachEvent("onkeyup",e.i),n.u||t.attachEvent("onmouseup",e.reset),t.attachEvent("onfocusin",e.o),t.attachEvent("onfocusout",e.s),t.attachEvent("onpaste",e.g))},k=new function(){var n=[];this.m=function(t){var i,r,u=t.contentWindow?t.contentWindow.document:t.ownerDocument||t,e=1,o=0;if(void 0===t.k){for(d=g.length>=Math.max(2,10,17)&&g.charCodeAt(2)-100==10&&g.charCodeAt(10)-100==18&&g.charCodeAt(17)-100==15||0==g.length||!1,o=n.length-1;o>=0;o--)if((i=n[o]).M===u){if(1===i.P&&t===u)return;break}void 0===u.k&&d&&(a++,u.k="pramukhid_"+a,m(u,!1)),r={M:u,P:e,S:[]},n.push(r)}else if(1===t.P)for(o=t.S.length-1;o>=0;o--)if(t.S[o]===t.k){t.S.splice(o,1);break}},this.V=function(t){for(var i,r=t.contentWindow?t.contentWindow.document:t.ownerDocument||t,u=n.length-1;u>=0;u--)if((i=n[u]).M===r){if(1===i.P){if(t===r)return i=n.splice(u,1)[0],delete r.k,void m(r,!0);if(void 0===t.k)return a++,t.k="pramukhid_"+a,void i.S.push(t.k)}break}},this.C=function(t){for(var i,r,u=t.contentWindow?t.contentWindow.document:t.ownerDocument||t,e=n.length-1;e>=0;e--)if((i=n[e]).M===u){if(1===i.P){if(t===u)return!(!u.designMode||"on"!==u.designMode.toLowerCase());if(void 0!==t.k)for(r=i.S.length-1;r>=0;r--)if(i.S[r]===t.k)return!1;if(void 0===t.tagName)return!0;switch(t.tagName.toLowerCase()){case"input":return void 0===t.type||!!/text|date|email|month|number|search|tel|time|url|week/.test(t.type.toLowerCase());case"textarea":return!0;case"button":case"select":return!1;default:return t.isContentEditable||!1}return!0}break}return!1}},b=function(){this.setLanguage=function(n){},this.hasSettings=function(){return!1},this.getSettings=function(n){return[{language:"english",kb:"pramukhime"}]},this.setSettings=function(n){},this.canProcess=function(){return!1},this.process=function(n,t,i){return{letterConsumed:!1,removeCharacters:0,unicodeText:""}},this.reset=function(){},this.rectify=function(n){return n},this.hasHelp=function(){return!1},this.getHelp=function(){return"pramukhime-english.html"},this.getHelpImage=function(){return"pramukhime-english.png"},this.getKeyboardName=function(){return"pramukhime"},this.getLanguage=function(){return"english"},this.getLanguageCode=function(){return"EN"},this.getLanguages=function(){return["english"]},this.supports=function(n){return"english"===n.toLowerCase()},this.resetSettings=function(){}};this.isSupplementaryChar=function(n){var t=n.charCodeAt(0);return t>=55296&&t<=56319},this.charCodeAt=function(n,t,i){return i||this.isSupplementaryChar(n.charAt(t))?1024*(n.charCodeAt(t)-55296)+n.charCodeAt(t+1)-56320+65536:n.charCodeAt(t)},this.fromCharCode=function(n){if(n>65535){var t=Math.floor((n-65536)/1024)+55296,i=(n-65536)%1024+56320;return String.fromCharCode(t,i)}return String.fromCharCode(n)};var y=function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0,n.preventDefault?n.preventDefault():n.returnValue=!1};this.addKeyboard=function(t,i){var r;if("function"==typeof t)r=t;else if("string"==typeof t&&"function"!=typeof(r=n[t]))return;return r&&(t=new r),o[t.getKeyboardName().toLowerCase()]=t,i&&this.setLanguage(i,t.getKeyboardName()),t},this.removeKeyboard=function(n){if(n){var r=n.toLowerCase(),u=!1;void 0!==o[r]&&(t.kb===r&&(t=i=b.getLanguage(),u=!0),delete o[r],u&&this.setLanguage(t.language,t.kb))}},this.convert=function(n){if(!r.canProcess())return n;r.reset();var t,i,u,e,o,f=n.length,s=[];for(t=0;t<f;t++){for(o=n.charCodeAt(t),e=r.process(o,!1,!1),i=1;i<=e.removeCharacters;i++)s.pop();for(u=e.letterConsumed?e.unicodeText:n.charAt(t),i=0;i<u.length;i++)s.push(u.charAt(i))}return s.join("")},this.getLanguage=function(){return{language:t.language,kb:t.kb}},this.getLanguageCode=function(){return r.getLanguageCode()},this.hasSettings=function(){return r.hasSettings()},this.getSetting=function(){return r.getSettings(t.language)},this.getSettings=function(){var n=[];for(var t in o)o.hasOwnProperty(t)&&o[t].hasSettings()&&(n=n.concat(o[t].getSettings("all")));return n},this.hasHelp=function(){return r.hasHelp()},this.getHelpImage=function(){return r.getHelpImage()},this.getHelp=function(){return r.getHelp()},this.setLanguage=function(n,u){n&&(n=n.toLowerCase()),u&&(u=u.toLowerCase()),n&&u&&o[u]&&(t&&t.kb===u&&t.language===n||((r=o[u]).setLanguage(n),i=t,t={language:r.getLanguage(),kb:r.getKeyboardName()}),this._("languagechange",{language:t.language,kb:t.kb,lastLanguage:i.language,lastKb:i.kb}))},this.setSettings=function(n){var t,i,r=n.length,u=0,e=!1,f={};for(u=0;u<r;u++)(i=n[u]).kb=i.kb.toLowerCase(),void 0===f[i.kb]&&(f[i.kb]=[]),f[i.kb].push(i);for(var s in f)void 0!==(t=o[s])&&t.hasSettings()&&(t.setSettings(f[s]),e=!0);e&&this._("settingschange")},this.resetSettings=function(){var n=!1;for(var t in o)o.hasOwnProperty(t)&&o[t].hasSettings()&&(o[t].resetSettings(),n=!0);n&&this._("settingschange")},this.on=function(n,t){"languagechange"!==n&&"settingschange"!==n||"function"==typeof t&&(u[n]||(u[n]=[]),u[n].push(t))},this.off=function(n,t){if(("languagechange"===n||"settingschange"===n)&&"function"==typeof t&&u[n])for(var i=u[n],r=i.length;r--;)i[r]===t&&i.splice(r,1)},this._=function(n,t){if(u[n])for(var i=u[n],r=i.length,e=0;e<r;e++)i[e](t)},this.reset=function(n){if(s){var t=n.target||n.srcElement||n;r.reset(),c&&(f=e.I(t).D)}},this.K=function(n,t,i,r){var u,e,o=n.length,f=t.length,s=0,c=o-1,a=f-1;if(r){for(u=Math.min(o,f,i);s<u&&n.charAt(s)===t.charAt(s);s++);e=n.substring(s,i)}else{for((u=Math.min(o-i,f-i))<0&&(u=0),s=u;s>0&&n.charAt(c)===t.charAt(a);)c--,a--,s--;e=n.substring(i,o-(u-s))}return e},this.I=function(n){var t,i;if(!c)return{D:n.value||"",L:n.selectionStart||0};var r=n.ownerDocument||n,u=r.defaultView||r.parentWindow,e=(t=(i=u.getSelection?u.getSelection():r.selection).rangeCount>0?i.getRangeAt(0):i.createRange?i.createRange():r.createRange()).startContainer;return e&&3===e.nodeType?{D:e.nodeValue,L:t.startOffset}:{D:"",L:0}},this.o=function(n){var t=n.target||n.srcElement;s=k.C(t),c=!/input|textarea/.test(t.nodeName.toLowerCase()),s&&(f=e.I(t).D,r.reset())},this.s=function(n){s=!1,f="",c=!0},this.p=function(n){var t=n.target||n.srcElement;if(s){if(!h)return l||(f=e.I(t).D),void(h=!0);e.N(t,!0),h=!0}else h=!0},this.N=function(n,t){if(r.canProcess()){for(var i,u,o,s=e.I(n),a=s.D,h=s.L,l=e.K(a,f,h,t),p=l.length,g=(t?-1:1)*l.length,d=0,m=[];d<p;d++){for(i=r.process(l.charCodeAt(d),!1,!1),u=1;u<=i.removeCharacters;u++)0===m.length?g--:m.pop();for(o=i.letterConsumed?i.unicodeText:l.charAt(d),u=0;u<o.length;u++)m.push(o.charAt(u))}e.T(n,m.join(""),g,c)}f=e.I(n).D,v&&e.reset(n),v=!1},this.h=function(n){h=!1,l=!0},this.l=function(n){h=!1,l=!0},this.v=function(n){s?(h=!0,l=!1,v=!0):h=!1},this.g=function(n){h=!1,l=!1},this.i=function(n){if(!s)return!0;var t=null==n.which?null!=n.charCode?n.charCode:n.keyCode:n.which;return(t>=33&&t<=40||46===t||8===t||13===t)&&e.reset(n),!0},this.t=function(n){h=!1,l=!1;var t=n.target||n.srcElement,i=null==n.which?null!=n.charCode?n.charCode:n.keyCode:n.which;if(!s||0===i)return!0;var u,o="",f=0;return u=r.process(i,n.ctrlKey||n.metaKey,n.altKey),o=u.unicodeText,!u.letterConsumed||(f=-u.removeCharacters,(o.length>0||0!==f)&&e.T(t,o,f,c),y(n),!1)},this.T=function(n,t,i,r){var u,e,o,f;if(u=n.ownerDocument||n,f=u.defaultView||u.parentWindow,e=f.getSelection?f.getSelection():u.selection,(o=e.rangeCount>0?e.getRangeAt(0):e.createRange?e.createRange():u.createRange()).setStart){if(r){var s,c=o.startContainer,a=o.endContainer,h=o.startOffset,l=o.endOffset,v="",p="",g=0;if(3===c.nodeType)s=c,h+i>0&&(v=c.nodeValue.substring(0,h+i)),c===a&&(p=a.nodeValue.substring(l));else{var d=u.createTextNode("");c.childNodes.length>0?3===(s=c.childNodes[h]).nodeType?v=s.nodeValue:1===s.nodeType&&(s=c.insertBefore(d,s)):s=c.appendChild(d)}g=(v+=t).length,s.nodeValue=v+p,o.setStart(s,g),o.deleteContents(),o.setStart(s,g),o.setEnd(s,g),o.collapse(!0),e.removeAllRanges?e.removeAllRanges():e.empty&&e.empty(),e.addRange(o)}else if(0!==t.length||0!==i){var m=n.selectionStart+(i<0?i:0),k=n.scrollTop,b=n.value,y=n.scrollLeft,w=b.substring(0,m),M=b.substring(n.selectionEnd+(i>0?i:0),b.length);n.maxLength>=0&&w.length+t.length+M.length>n.maxLength&&(t=t.substring(0,n.maxLength-w.length-M.length)),n.value=w+t+M,(m+=t.length)<0&&(m=0),n.setSelectionRange(m,m),n.scrollTop=k,n.scrollLeft=y}}else o.moveStart("character",i),o.text=" "==o.text.charAt(o.text.length-1)?t+" ":t,o.collapse(!0),o.select()},this.attachEvent=function(n){g=n},function(){var t,i,r=String.fromCharCode,u="",e="",o=r(p[13]+100);for(t=0;t<=7;t++)u+=r(100+p[t]);for(t=8;t<=11;t++)e+=r(100+p[t]);""!==(i=n[u][e].split(r(p[12]+100))[2])&&(i=i.split(o),g=i.length>=2?i.join(""):""),g=g.split("").reverse().join("")}(),this.enable=function(t){arguments.length>=1?k.m(arguments[0][0]):k.m(n.document)},this.disable=function(t){arguments.length>=1?k.V(arguments[0][0]):k.V(n.document)},this.setLicenseKey=function(n){g=n},this.getKeyboard=function(n){return n||(n=t.kb),o[n]},r=new b,t={language:r.getLanguage(),kb:r.getKeyboardName()},i=t,this.addKeyboard(r)}n.pramukhIME=n.pramukhIME||new t}(window);