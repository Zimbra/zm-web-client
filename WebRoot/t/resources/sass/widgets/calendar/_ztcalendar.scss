/*
 * ***** BEGIN LICENSE BLOCK *****
 * Zimbra Collaboration Suite Web Client
 * Copyright (C) 2013 Zimbra Software, LLC.
 *
 * The contents of this file are subject to the Zimbra Public License
 * Version 1.4 ("License"); you may not use this file except in
 * compliance with the License.  You may obtain a copy of the License at
 * http://www.zimbra.com/license.
 *
 * Software distributed under the License is distributed on an "AS IS"
 * basis, WITHOUT WARRANTY OF ANY KIND, either express or implied.
 * ***** END LICENSE BLOCK *****
 */

//Overriding the background color before import
$bg-color: #B4CAEF;
$more-events-color: blue;
@import "../ux/Ext.ux.TouchCalendarEvents";

.calendarTH {
	background-color: white;
	height: 4rem;
}

.calendarSPAN {
	color: $primary-text-color;
	font-size: 1.6rem;
	font-weight: normal;
	text-shadow: none;
}

.event {
	border: none;
	border-radius: 0;
	font-size: 1.8em;
	font-weight: normal;
	height: 1.6em;
	overflow: hidden;
	padding: 0 0 0 8px;
	position: absolute;
	text-align: left;
	text-shadow: none;
	z-index: 100;
}

.zcs-item-panel .touch-calendar-view {

	TABLE.month {
		background-color: white;
		border-collapse: collapse;
		font-size: 1rem;

		THEAD TH {
			@extend .calendarTH;

			&:first-child,
			&:last-child {
				background-color: white;
			}

			SPAN {
				@extend .calendarSPAN;
			}
		}

		TBODY TD {
			font-size: 1.2em;
			font-weight: normal;

			&.today {
				background-color: lighten(black, 95%);
				border: inherit;
			}

			&.selected {
				background-color: lighten($selection-color, 40%);
				border: inherit;
				color: white;

				&.prev-month,
				&.next-month {
					color: white;
				}
			}
		}

/*		.time-block {
			.simple-event-wrapper-multi {
				SPAN.simple-event-multi {
					height: 6px;
					width: 6px;
					border-radius: 3px;
				}
			}
		} */
	}

	TABLE.day {
		font-size: 1rem;

		THEAD TH {
			@extend .calendarTH;
			border-bottom: none;

			&:first-child,
			&:last-child {
				background-color: white;
			}

			SPAN {
				@extend .calendarSPAN;
			}
		}

		DIV.event-bar {
			@extend .event;
			background-color: $bg-color;
			color: white;
			opacity: 0.75;

			&.event-bar-selected {
				background-color: $selection-color;
			}

			&>DIV {
				opacity: 1;

				.event-time {
					display: none;  // hide this for now
					font-style: italic;
					margin-left: 1em;
					opacity: 0.8;
				}
			}
		}

		.time-slot-table {
			.label {
				padding-right: 0.5em;

				SPAN {
					position: relative;
					top: -0.75em;
				}

				.am-pm {
					top: -1.5em;
				}
			}

			.time-block {
				background-color: white;
			}
		}
	}
}

.x-phone.x-landscape {
	.touch-calendar-view TABLE.month TD SPAN {
		&.simple-event-wrapper,
		&.simple-event-wrapper-multi {
			margin-top: -10%;
		}
	}
}

$apptBaseFontSize: 1rem;
$apptLabelWidth: 5rem;

.zcs-apptview-fieldSets {
	font-size: $apptBaseFontSize;

	.zcs-apptview-fieldSet {
		@extend .zcs-newLine;
		margin: 0.5em 0;

		.zcs-apptview-label {
			@extend .zcs-floatLeft;
			@include ellipsis();
			@include opacity(.5);
			left: 0;
			margin-left: 0.75em;
			position: absolute;
			text-align: right;
			width: $apptLabelWidth;

			&:after {
//				content: ":";
			}
		}

		&:first-child {
			margin-top: 1em;
		}

		&:last-child {
			margin-bottom: 1em;
		}

		.zcs-apptview-fields {
			@extend .zcs-floatLeft;
			margin-left: $apptLabelWidth + $formDisplayGutter;

			.zcs-apptview-field {
				@extend .zcs-newLine;
				@include ellipsis();
				margin: 0 1em 0.5em;
				white-space: normal; //override
			}
		}

//		.zcs-apptview-subLabel {
//			@extend .zcs-floatLeft;
//			@include ellipsis();
//			@include opacity(.4);
//		}
	}
}


DIV.more-events {
	@extend .event;
	background-color: transparent;
	color: $more-events-color;
	cursor: pointer;
	text-decoration: underline;
}

.zcs-appt-field {
	padding: 0.5em 0.75em;
}

/*.x-phone.x-portrait .zcs-appt-field {
	width: 320px;
}*/

.view-appt-time {
	@extend .zcs-appt-field;
	font-size: 1.2em;
}

.view-appt-location {
	@extend .zcs-appt-field;
	font-size: 1em;
}

.view-appt-exception {
	@extend .zcs-appt-field;
	font-size: 1em;

	&:before {
		color: #CE2A26;
		content: "w"; //warning icon
		font-family: "ZimbraTouch";
	}

	.label {
		color: $primary-text-color;
		font-style: italic;
		padding-left: 0.5em;
	}
}

.view-appt-attachments.zcs-area-bubble{
}

.view-appt-notes {
	@extend .zcs-appt-field;
	border-top: 1px solid $medium-grey;
	clear: both;
	padding-top: 1em;
}

.view-appt-attendee {
	font-size: 1em;
	white-space: nowrap;

	&:after {
		content: ',';
	}

	&:last-child:after {
		content: '';
	}
}

$responseIconPos: 0 center no-repeat;

.view-appt-ptst {
	@extend .view-appt-attendee;
	padding-left: 1.5em;
	padding-right: 1em;
}

.view-appt-accepted {
	@extend .view-appt-ptst;
	@include background(url('/img/zimbra/ImgCheck.png') $responseIconPos);
}

.view-appt-declined {
	@extend .view-appt-ptst;
	@include background(url('/img/zimbra/ImgCancel.png') $responseIconPos);
}

.view-appt-tentative {
	@extend .view-appt-ptst;
	@include background(url('/img/zimbra/ImgQuestionMark.png') $responseIconPos);
}

.view-appt-noresponse {
	@extend .view-appt-ptst;
	@include background(url('/img/zimbra/ImgQuestionMark.png') $responseIconPos);
}

.view-appt-showDetails {
	@extend .zcs-link;
}

.view-appt-name {
	color: $base-color;
	display: block;
}

.view-appt-color-block {
	@extend .zcs-color-block;
	margin-right: 0.1em;
}

/*
* helper class to make tables align the labels with the top margin
*/
.zcs-table-vtop TD {
	vertical-align: top;
}

.create-appt-margin {
	margin-left: 10px;
	margin-right: 10px;
}

.first {
	border-top-left-radius: $zcs-form-multifield-radius;
	border-top-right-radius: $zcs-form-multifield-radius;
	overflow: hidden;
}

.last {
	border-bottom-left-radius: $zcs-form-multifield-radius;
	border-bottom-right-radius: $zcs-form-multifield-radius;
	overflow: hidden;
}

.zcs-appt-label {
	background-color: white;
	background-image: none;
	color: lighten($primary-text-color, 25%);
	font-size: 1.2rem;
	min-height: 1.8em;
	padding: .85em;
//	text-align: right;
}

.zcs-appt-dialog {
	background-color: #808080;

	.zcs-appt-dialogbtn {
		@extend .create-appt-margin;

		&.first {
			@extend .no-bottom-round;
			margin-top: 10px;
			border-bottom: 1px solid #B6B6B4;
		}

		&.last {
			@extend .no-top-round;
			border-top: none;
		}

		&.zcs-appt-cancelbtn {
			margin-top: 10px;
			margin-bottom: 10px;
		}
	}
}

.zcs-desc-field {
  padding: 1.2rem;
  min-height: 1.2rem;
}

.zcs-desc-field[data-placeholder]:not(:focus):not([data-div-placeholder-content]):before {
  content: attr(data-placeholder);
  color: #808080;
  font-weight: 300;
}